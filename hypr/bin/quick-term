#!/usr/bin/env bash

# This script will simply run foot terminal with foot-quick class so that hyprland can apply some rules too it

check() {
	command -v "$1" &>/dev/null
}

notify() {
	check notify-send && notify-send "$@" || echo "$@"
}

check foot || {
	notify "foot is not installed"
	exit 1
}

check zellij || {
	notify "zellij is not installed"
	exit 1
}
# shellcheck disable=SC2009
_pid="$(ps -fu | grep "foot-quick" | grep -v "grep" | awk '{print $2}')"

if [ -n "$_pid" ]; then
	kill -9 "$_pid"
else
	foot -a "foot-quick" sh -c "zellij a --create 'quick-term'" >/dev/null 2>&1 &
	exit 0
fi
